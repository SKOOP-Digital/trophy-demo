<!DOCTYPE html>
<html>
<head>
    <title>Generate Trophy GLTF</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/exporters/GLTFExporter.js"></script>
</head>
<body>
    <script>
        // Create a scene
        const scene = new THREE.Scene();

        // Create more detailed trophy parts with smoother transitions
        const baseGeometry = new THREE.CylinderBufferGeometry(0.8, 1, 0.2, 64);
        const baseTopGeometry = new THREE.CylinderBufferGeometry(0.4, 0.8, 0.1, 64);
        const stemGeometry = new THREE.CylinderBufferGeometry(0.2, 0.2, 2, 32);
        const stemDetailGeometry = new THREE.TorusBufferGeometry(0.3, 0.05, 16, 64);
        const bowlBaseGeometry = new THREE.CylinderBufferGeometry(0.4, 0.3, 0.2, 64);
        const bowlGeometry = new THREE.LatheBufferGeometry([
            new THREE.Vector2(0, 0),
            new THREE.Vector2(0.3, 0.1),
            new THREE.Vector2(0.6, 0.2),
            new THREE.Vector2(0.8, 0.4),
            new THREE.Vector2(1.0, 0.7),
            new THREE.Vector2(0.9, 0.9),
            new THREE.Vector2(0.7, 1.0),
        ], 64);

        // Create realistic gold material
        const goldMaterial = new THREE.MeshStandardMaterial({
            color: 0xffd700,
            metalness: 0.9,
            roughness: 0.1,
            envMapIntensity: 1.0
        });

        // Add environment map for realistic reflections
        const envTexture = new THREE.CubeTextureLoader().load([
            'https://threejs.org/examples/textures/cube/Park2/posx.jpg',
            'https://threejs.org/examples/textures/cube/Park2/negx.jpg',
            'https://threejs.org/examples/textures/cube/Park2/posy.jpg',
            'https://threejs.org/examples/textures/cube/Park2/negy.jpg',
            'https://threejs.org/examples/textures/cube/Park2/posz.jpg',
            'https://threejs.org/examples/textures/cube/Park2/negz.jpg'
        ]);
        scene.environment = envTexture;

        // Create trophy parts with smooth edges
        const base = new THREE.Mesh(baseGeometry, goldMaterial);
        const baseTop = new THREE.Mesh(baseTopGeometry, goldMaterial);
        const stem = new THREE.Mesh(stemGeometry, goldMaterial);
        const stemDetailBottom = new THREE.Mesh(stemDetailGeometry, goldMaterial);
        const stemDetailTop = new THREE.Mesh(stemDetailGeometry, goldMaterial);
        const bowlBase = new THREE.Mesh(bowlBaseGeometry, goldMaterial);
        const bowl = new THREE.Mesh(bowlGeometry, goldMaterial);

        // Position parts
        base.position.y = -1.6;
        baseTop.position.y = -1.45;
        stem.position.y = -0.5;
        stemDetailBottom.position.y = -1.3;
        stemDetailTop.position.y = 0.3;
        bowlBase.position.y = 0.5;
        bowl.position.y = 1.2;

        // Add decorative rings
        const ringGeometry = new THREE.TorusBufferGeometry(0.25, 0.03, 16, 64);
        const rings = [];
        for (let i = 0; i < 3; i++) {
            const ring = new THREE.Mesh(ringGeometry, goldMaterial);
            ring.position.y = -0.8 + (i * 0.4);
            rings.push(ring);
        }

        // Create trophy group
        const trophyGroup = new THREE.Group();
        trophyGroup.add(base);
        trophyGroup.add(baseTop);
        trophyGroup.add(stem);
        trophyGroup.add(stemDetailBottom);
        trophyGroup.add(stemDetailTop);
        trophyGroup.add(bowlBase);
        trophyGroup.add(bowl);
        rings.forEach(ring => trophyGroup.add(ring));

        scene.add(trophyGroup);

        // Add lights for baking
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);

        const mainLight = new THREE.DirectionalLight(0xffffff, 1.0);
        mainLight.position.set(5, 5, 5);
        scene.add(mainLight);

        const fillLight = new THREE.DirectionalLight(0xffffff, 0.5);
        fillLight.position.set(-5, 0, -5);
        scene.add(fillLight);

        const backLight = new THREE.DirectionalLight(0xffffff, 0.3);
        backLight.position.set(0, -5, -5);
        scene.add(backLight);

        // Export the scene
        const exporter = new THREE.GLTFExporter();
        exporter.parse(scene, function(gltf) {
            const output = JSON.stringify(gltf, null, 2);
            const blob = new Blob([output], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = 'trophy.gltf';
            a.click();
            
            URL.revokeObjectURL(url);
        }, {
            binary: false,
            includeCustomExtensions: false,
            embedImages: true
        });
    </script>
</body>
</html> 